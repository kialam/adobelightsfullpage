/**
 * Returns a random number between min and max
 */
function getRandomArbitary (min, max) {
    return Math.random() * (max - min) + min;
}

/**
 * Returns a random integer between min and max
 * Using Math.round() will give you a non-uniform distribution!
 */
function getRandomInt (min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}


var client, count = 0, humans = new Array();
var player, done, ready = false;
var canvas, context, image_from_canvas;

$(document).ready(function() {
	canvas = document.getElementById("canvasOutput");
	canvas.width = 10;
	canvas.height = 10;
	context = canvas.getContext('2d');
    context.fillStyle = "#000000";
    context.fillRect(0,0,10,10);

	client = new Client( window, {
		username: "website",
		roomname: "adobelights",
		host: "54.214.246.70",
		//host: "localhost",
		port: "8882",
		secure: false,
		debug: false
	});

	client.addEvent("move","any",function(msg, bid) {
		//var x = Math.floor(bid / 10);
		//var y = bid % 10;

		msg = ['155,255,255,1','255,155,255,1','255,255,155,1','25,255,255,1','255,55,255,1','255,25,255,1','25,255,255,1','255,25,255,1','25,255,55,1','255,255,25,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1','255,255,255,1']

		//console.log(msg[0]);

		var i=0;
		for (var _y = 0; _y < 10; _y++) {
			for (var _x = 0; _x < 10; _x++) {
				var color = "rgba(" + msg[i] + ")";
				context.fillStyle = color;
				context.fillRect(_x,_y,1,1);
				i++
			};
		};
		
		if ( texture ) texture.needsUpdate = true;
	});

	client.connect();
});